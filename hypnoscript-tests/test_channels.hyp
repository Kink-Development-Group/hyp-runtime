// Kanal-Demonstration ohne echte NebenlÃ¤ufigkeit â€“ zeigt Array-Helfer zum Sequenzieren

Focus {
    entrance {
        observe "ðŸ“¡ Simulierte Kanal-Kommunikation";
    }

    induce channel = ["Einstimmen", "Vertiefen", "Erwachen"];
    observe "Ausgangsschlange: " + ArrayJoin(channel, " -> ");
    observe "Queue-LÃ¤nge: " + ArrayLength(channel);

    suggestion encode(message: string): string {
        awaken message + "#" + ToString(HashString(message));
    }

    observe "Kodierte Sendungen:";
    pendulum (induce i: number = 0; i < ArrayLength(channel); i = i + 1) {
        induce raw = ArrayGet(channel, i);
        observe "  â€¢ " + encode(raw);
    }

    induce afterFirst = ArraySkip(channel, 1);
    observe "Nach dem ersten Abruf bleibt: " + ArrayJoin(afterFirst, " -> ");

    induce firstPacket = ArrayFirst(channel);
    observe "Erstes Paket zur Auslieferung: " + firstPacket;

    induce secondPacket = ArrayGet(channel, 1);
    induce thirdPacket = ArrayLast(channel);

    induce extendedChannel = [
        firstPacket,
        secondPacket,
        thirdPacket,
        "Nachbesprechung"
    ];

    observe "Erweiterte Warteschlange: " + ArrayJoin(extendedChannel, " -> ");
    observe "Vorkommen von 'Vertiefen' (inkl. Erweiterung): " + ArrayCount(extendedChannel, "Vertiefen");

    induce deduplicated = ArrayDistinct(extendedChannel);
    observe "Nach Entfernen von Duplikaten: " + ArrayJoin(deduplicated, " -> ");

    observe "Simulation abgeschlossen.";
}

Relax
