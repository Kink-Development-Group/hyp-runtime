Focus {
    // ===== Neue Sprachfeatures im Überblick =====

    observe "=== 1 · Embed (tiefe Bindung) ===";
    embed deepVar: number = 999;
    observe deepVar;

    observe "=== 2 · Pendulum als elegante for-Schleife ===";
    induce sum: number = 0;
    pendulum (induce i: number = 1; i deeplyLess 6; i = i + 1) {
        sum = sum + i;
    }
    observe "Summe 1..5 = " + sum;

    observe "=== 3 · Oscillate & Anchor ===";
    induce spotlightOn: boolean = false;
    anchor previousState = spotlightOn;
    oscillate spotlightOn;
    oscillate spotlightOn;
    observe "Aktueller Zustand nach zwei Umschaltungen: " + spotlightOn;
    spotlightOn = previousState;
    observe "Zurück zum Ursprung: " + spotlightOn;

    observe "=== 4 · Nullish & Optional Chaining ===";
    tranceify OptionalNote {
        content: string?;
    }

    induce note = OptionalNote { content: null };
    observe note?.content lucidFallback "(keine Notiz)";

    observe "=== 5 · Pattern Matching mit Array-Destrukturierung ===";
    induce progression = ["Einatmen", "Ausatmen", "Ruhe"];
    induce patternInfo: string = entrain progression {
        when [first, second, ...rest] => "Start: " + first + " / " + second + ", Rest: " + ArrayLength(rest)
        otherwise => "Keine passende Struktur"
    };
    observe patternInfo;

    observe "=== 6 · Validation Builtins ===";
    observe "Gültige E-Mail? " + IsValidEmail("focus@example.org");
    observe "Numerischer String? " + IsNumeric("12345");

    observe "=== 7 · Hashing Builtins ===";
    induce phrase: string = "hypnotic focus";
    observe "HashString: " + HashString(phrase);
    observe "Palindrome? " + IsPalindrome("reliefpfeiler");
    observe "Einzigartige Zeichen: " + UniqueCharacters("rêverie");

    observe "=== 8 · Array Distinct & Count ===";
    induce responses = ["ja", "ja", "nein", "vielleicht", "ja"];
    observe "Antworten gesamt: " + ArrayLength(responses);
    observe "'ja' gezählt: " + ArrayCount(responses, "ja");
    observe "Antwort-Varianten: " + ArrayDistinct(responses);

    observe "=== Alle neuen Features demonstriert ===";
}

Relax
