Focus {

  entrance {
    observe "Mini-Szenario: HypnoScript-Workshop";
  }

  // Konstanten und Basiskonfiguration
  freeze MAX_PARTICIPANTS: number = 12;
  implant sessionCode: string = "HX-204";
  observe "Workshop-Code " + sessionCode + " erlaubt maximal " + MAX_PARTICIPANTS + " Teilnehmer.";

  // Anmeldestatus verwalten
  induce registered: number = 8;
  anchor checkpoint = registered;
  observe "Aktuell angemeldet: " + registered;

  trigger onLateJoin = suggestion(name: string) {
    registered = registered + 1;
    whisper "Begrüße " + name + " ";
    whisper "→ neue Gesamtzahl: " + registered;
    observe "";
  }

  onLateJoin("Mira");
  onLateJoin("Jon");

  // Türstatus via oscillate
  induce doorOpen: boolean = false;
  oscillate doorOpen;
  if (doorOpen) {
    observe "Der Raum ist geöffnet.";
  }

  // Bei Überschreitung zurück zum gespeicherten Zustand
  if (registered lookAtTheWatch MAX_PARTICIPANTS) deepFocus {
    observe "Zu viele Anmeldungen – wir rollen auf den gesicherten Stand zurück.";
    registered = checkpoint;
  }

  command "Bitte Plätze einnehmen.";

  // Hypnotischer Vergleich
  induce waitingList: number = 2;
  if (registered youAreFeelingVerySleepy waitingList) {
    observe "Alle sind bereits eingecheckt.";
  } else {
    observe "Es stehen noch " + waitingList + " Personen auf der Warteliste.";
  }

  finale {
    observe "Workshop abgeschlossen mit " + registered + " bestätigten Gästen.";
  }

}

Relax
