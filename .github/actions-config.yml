# GitHub Actions Configuration for HypnoScript
# This file contains shared configuration for all workflows

# Environment configuration
environment:
  dotnet_version: '8.0.x'
  node_version: '18'
  python_version: '3.11'

# Build configuration
build:
  platforms:
    - ubuntu-latest
    - windows-latest
    - macos-latest

  configurations:
    - Debug
    - Release

  frameworks:
    - net8.0
    - net9.0

# Test configuration
test:
  coverage_threshold: 80
  test_categories:
    - Unit
    - Integration
    - Performance
    - Security

  test_files:
    - test_basic.hyp
    - test_advanced.hyp
    - test_enterprise_v3.hyp
    - test_comprehensive.hyp

# Security configuration
security:
  scan_types:
    - sast
    - dependency
    - secret
    - container
    - infrastructure

  severity_threshold: high
  fail_on_cvss: 7

  tools:
    - codeql
    - semgrep
    - snyk
    - trufflehog
    - owasp-dependency-check

# Performance configuration
performance:
  benchmark_iterations: 10
  load_test_concurrent: 10
  memory_threshold_mb: 100
  execution_time_threshold_seconds: 5

# Documentation configuration
documentation:
  framework: docusaurus
  build_command: npm run build
  serve_command: npm run serve
  output_directory: build

  validation:
    - html
    - accessibility
    - broken_links

# Release configuration
release:
  package_types:
    - zip
    - deb

  platforms:
    - windows-x64
    - linux-x64

  artifacts:
    - README.md
    - LICENSE
    - CLI_README.md

# Notification configuration
notifications:
  discord:
    enabled: true
    webhook_secret: DISCORD_WEBHOOK

  github:
    issues: true
    releases: true
    discussions: false

# Caching configuration
caching:
  dotnet_packages: true
  node_modules: true
  build_outputs: true
  test_results: true

# Artifacts configuration
artifacts:
  retention_days:
    build: 7
    test: 30
    security: 90
    performance: 30
    documentation: 7

# Scheduling configuration
scheduling:
  dependency_updates: '0 9 * * 1' # Monday 9 AM UTC
  performance_monitoring: '0 2 * * *' # Daily 2 AM UTC
  security_scanning: '0 6 * * *' # Daily 6 AM UTC

# Matrix configuration
matrix:
  test_files:
    - test_basic.hyp
    - test_advanced.hyp
    - test_enterprise_v3.hyp

  platforms:
    - ubuntu-latest
    - windows-latest

  dotnet_versions:
    - '8.0.x'

# Quality gates
quality_gates:
  build_success_rate: 95
  test_coverage: 80
  security_score: 90
  performance_regression: 0

# Monitoring configuration
monitoring:
  metrics:
    - build_time
    - test_coverage
    - security_vulnerabilities
    - performance_benchmarks

  dashboards:
    - codecov
    - github_security
    - performance_reports

# Deployment configuration
deployment:
  environments:
    - name: staging
      url: https://staging.hypnoscript.dev
      auto_deploy: true

    - name: production
      url: https://hypnoscript.dev
      auto_deploy: false
      requires_approval: true

# Compliance configuration
compliance:
  standards:
    - owasp_top_10
    - cwe_top_25
    - gdpr
    - sox

  reporting:
    - sarif
    - html
    - json

# Integration configuration
integrations:
  code_quality:
    - sonarcloud
    - codecov
    - codacy

  security:
    - snyk
    - github_security
    - dependabot

  performance:
    - lighthouse
    - webpagetest
    - custom_benchmarks

# Workflow dependencies
workflow_dependencies:
  ci:
    depends_on: []
    triggers:
      - push
      - pull_request

  release:
    depends_on: [ci]
    triggers:
      - tags
      - workflow_dispatch

  deploy_docs:
    depends_on: [ci]
    triggers:
      - push
      - workflow_dispatch

  dependency_update:
    depends_on: []
    triggers:
      - schedule
      - workflow_dispatch

  performance_monitoring:
    depends_on: [ci]
    triggers:
      - schedule
      - push
      - workflow_dispatch

  security_scan:
    depends_on: []
    triggers:
      - schedule
      - push
      - pull_request
      - workflow_dispatch
